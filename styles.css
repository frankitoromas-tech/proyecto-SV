:root {
  --bg-1: #120018;
  --bg-2: #2b083f;
  --bg-3: #3f0b42;
  --ink: #ffd9ef;
  --card-edge: rgba(255, 255, 255, 0.25);
  --paper-1: #fff9f3;
  --paper-2: #fce9df;
  --paper-line: #f7d7c4;
  --rose-dark: #760018;
  --rose-mid: #c3002f;
  --rose-light: #ff4a6f;
  --leaf-dark: #1a6d48;
  --leaf-light: #4ecf8d;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: "Inter", "Segoe UI", system-ui, sans-serif;
  color: var(--ink);
  background:
    radial-gradient(circle at 12% 16%, rgba(255, 82, 163, 0.3), transparent 35%),
    radial-gradient(circle at 85% 12%, rgba(95, 233, 255, 0.22), transparent 40%),
    linear-gradient(145deg, var(--bg-1), var(--bg-2) 48%, var(--bg-3));
  display: grid;
  place-items: center;
  overflow-x: hidden;
}

.ambient-glow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 30% 70%, rgba(255, 120, 180, 0.18), transparent 38%),
    radial-gradient(circle at 70% 30%, rgba(140, 108, 255, 0.2), transparent 40%);
  filter: blur(6px);
}

.stage {
  width: min(1180px, 95vw);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(1rem, 3vw, 2rem);
  align-items: stretch;
  z-index: 1;
}

.letter {
  position: relative;
  border-radius: 28px;
  padding: clamp(1.2rem, 2.6vw, 2rem);
  background: linear-gradient(150deg, rgba(255, 255, 255, 0.11), rgba(255, 255, 255, 0.04));
  border: 1px solid var(--card-edge);
  box-shadow: 0 22px 60px rgba(0, 0, 0, 0.45), inset 0 0 30px rgba(255, 105, 180, 0.08);
  backdrop-filter: blur(10px);
}

.letter-tag {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  font-size: 0.72rem;
  color: #ffc1df;
}

.title {
  margin: 0.35rem 0 0.65rem;
  font-size: clamp(2.5rem, 7vw, 5rem);
  line-height: 1;
  background: linear-gradient(90deg, #8bf2ff, #ffffff 35%, #ff6ab4 85%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 24px rgba(255, 106, 180, 0.4);
  animation: reveal 1.8s cubic-bezier(0.2, 0.8, 0.2, 1) both;
}

.intro {
  margin: 0 0 1rem;
  color: #ffe6f5;
  max-width: 48ch;
}

.message-box {
  border-radius: 18px;
  padding: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background:
    linear-gradient(var(--paper-line) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 136, 170, 0.24), transparent 45%),
    linear-gradient(180deg, var(--paper-1), var(--paper-2));
  background-size: 100% 1.6rem, 100% 100%, 100% 100%;
  color: #5b1a35;
  min-height: 180px;
  box-shadow: inset 0 0 14px rgba(99, 15, 47, 0.08);
}

.message-box h2 {
  margin: 0 0 0.6rem;
  font-size: 1rem;
  color: #8f1748;
}

.message-box p {
  margin: 0;
  font-size: 1.03rem;
  line-height: 1.7;
  font-family: "Segoe Script", "Bradley Hand", cursive;
}

.controls {
  margin-top: 1rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.7rem;
}

button {
  border: 0;
  border-radius: 999px;
  padding: 0.72rem 1.05rem;
  font-weight: 700;
  cursor: pointer;
  color: #fff;
  background: linear-gradient(110deg, #9b2cff, #ff3b8a 55%, #ff6c5f);
  box-shadow: 0 10px 24px rgba(255, 59, 138, 0.32);
}

button:hover {
  filter: brightness(1.08);
}

.bouquet-scene {
  position: relative;
  border-radius: 28px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
  box-shadow: 0 22px 60px rgba(0, 0, 0, 0.45);
  min-height: 580px;
}

.paper-backdrop {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.15), transparent 45%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.12), transparent 45%);
}

.bouquet {
  position: absolute;
  inset: 0;
  display: block;
  transform-origin: 50% 85%;
  animation: bouquetIn 2.2s ease-out both;
}

.rose {
  position: absolute;
  width: 165px;
  height: 165px;
  border-radius: 50%;
  filter: drop-shadow(0 14px 12px rgba(0, 0, 0, 0.35));
}

.rose::before,
.rose::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
}

.rose::before {
  background:
    conic-gradient(
      from 0deg,
      #ff95ab 0 26deg,
      #ff3f66 26deg 74deg,
      #c3002f 74deg 130deg,
      #8c001d 130deg 172deg,
      #ff6486 172deg 228deg,
      #c3002f 228deg 282deg,
      #7a001b 282deg 338deg,
      #ff86a0 338deg 360deg
    );
  mask: radial-gradient(circle at 50% 50%, transparent 0 18%, #000 18%);
  -webkit-mask: radial-gradient(circle at 50% 50%, transparent 0 18%, #000 18%);
  transform: rotate(8deg);
}

.rose::after {
  background:
    radial-gradient(circle at 40% 28%, rgba(255, 255, 255, 0.78), transparent 35%),
    radial-gradient(circle at 55% 55%, var(--rose-light), var(--rose-mid) 55%, var(--rose-dark) 85%);
  box-shadow:
    inset -16px -20px 24px rgba(80, 0, 15, 0.42),
    inset 12px 8px 14px rgba(255, 190, 208, 0.25);
  transform: scale(0.56);
}

.rose-main {
  width: 190px;
  height: 190px;
}

.rose-mid {
  width: 160px;
  height: 160px;
}

.rose-bud {
  width: 130px;
  height: 130px;
}

.r1 { left: 23%; top: 26%; transform: rotate(-12deg); }
.r2 { left: 43%; top: 20%; transform: rotate(7deg); }
.r3 { left: 58%; top: 30%; transform: rotate(15deg); }
.r4 { left: 34%; top: 40%; transform: rotate(-8deg); }
.r5 { left: 53%; top: 44%; transform: rotate(10deg); }
.r6 { left: 68%; top: 42%; transform: rotate(26deg); }

.stem {
  position: absolute;
  width: 14px;
  height: 290px;
  border-radius: 20px;
  background: linear-gradient(180deg, #7ef2b8 0%, #1fa56e 48%, #135c40 100%);
  box-shadow: inset -3px 0 7px rgba(0, 63, 36, 0.45);
  transform-origin: top center;
}

.s1 { left: 40%; top: 49%; transform: rotate(9deg); }
.s2 { left: 54%; top: 47%; transform: rotate(-4deg); }
.s3 { left: 66%; top: 50%; transform: rotate(-13deg); }

.leaf {
  position: absolute;
  width: 112px;
  height: 52px;
  border-radius: 100% 4% 100% 4%;
  background:
    linear-gradient(135deg, #8dffcf 0%, var(--leaf-light) 42%, var(--leaf-dark) 100%);
  box-shadow: inset -5px -5px 9px rgba(0, 61, 35, 0.36);
}

.l1 { left: 34%; top: 68%; transform: rotate(-34deg); }
.l2 { left: 50%; top: 66%; transform: scaleX(-1) rotate(-26deg); }
.l3 { left: 63%; top: 72%; transform: rotate(14deg); }

.blooming .rose {
  animation: pulseBloom 1.15s ease;
}

@keyframes pulseBloom {
  0% { transform: scale(0.85); filter: blur(2px) drop-shadow(0 6px 8px rgba(0, 0, 0, 0.3)); }
  55% { transform: scale(1.07); }
  100% { transform: scale(1); filter: drop-shadow(0 14px 12px rgba(0, 0, 0, 0.35)); }
}

@keyframes reveal {
  from {
    opacity: 0;
    transform: translateY(-14px) scale(0.95);
    filter: blur(6px);
    letter-spacing: 0.24em;
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
    letter-spacing: 0.02em;
  }
}

@keyframes bouquetIn {
  0% {
    opacity: 0;
    transform: translateY(35px) scale(0.78);
    filter: blur(8px);
  }
  70% {
    opacity: 1;
    transform: translateY(-6px) scale(1.03);
    filter: blur(0);
  }
  100% {
    transform: translateY(0) scale(1);
  }
}

@media (max-width: 980px) {
  .stage {
    grid-template-columns: 1fr;
  }

  .bouquet-scene {
    min-height: 520px;
  }
}
